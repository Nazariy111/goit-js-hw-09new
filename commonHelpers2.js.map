{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = \"feedback-form-state\";\n\nconst form = document.querySelector('.feedback-form');\n\n\nform.addEventListener('input', (e) => {\n    const userEmail = e.currentTarget.elements.email.value;\n    const userMessage = e.currentTarget.elements.message.value;\n    \n    const userInfo = {\n        email: userEmail,\n        message: userMessage,\n    };\n\n    putToStorage(storageKey, userInfo);\n});\n\n\nform.addEventListener('submit', (e) => { \n    e.preventDefault();\n    const info = getFromStorage(storageKey) || {};\n    console.log(info);\n    \n    localStorage.removeItem(storageKey);\n    form.reset();\n});\n\n\n\nfunction getFromStorage(key = 'empty') {\n    const data = localStorage.getItem(key);\n\n    try {\n        const result = JSON.parse(data);\n        return result;\n    }\n    catch {\n        return data;\n    };\n};\n\n\nfunction putToStorage(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n};\n\n\nfunction restoreInfo() { \n    const info = getFromStorage(storageKey) || {};\n\n    form.elements.email.value = info.email || '';\n    form.elements.message.value = info.message || '';\n};\n\nrestoreInfo();"],"names":["storageKey","form","userEmail","userMessage","putToStorage","info","getFromStorage","key","data","value","jsonData","restoreInfo"],"mappings":"wFAAA,MAAMA,EAAa,sBAEbC,EAAO,SAAS,cAAc,gBAAgB,EAGpDA,EAAK,iBAAiB,QAAU,GAAM,CAClC,MAAMC,EAAY,EAAE,cAAc,SAAS,MAAM,MAC3CC,EAAc,EAAE,cAAc,SAAS,QAAQ,MAOrDC,EAAaJ,EALI,CACb,MAAOE,EACP,QAASC,CACjB,CAEqC,CACrC,CAAC,EAGDF,EAAK,iBAAiB,SAAW,GAAM,CACnC,EAAE,eAAc,EAChB,MAAMI,EAAOC,EAAeN,CAAU,GAAK,CAAA,EAC3C,QAAQ,IAAIK,CAAI,EAEhB,aAAa,WAAWL,CAAU,EAClCC,EAAK,MAAK,CACd,CAAC,EAID,SAASK,EAAeC,EAAM,QAAS,CACnC,MAAMC,EAAO,aAAa,QAAQD,CAAG,EAErC,GAAI,CAEA,OADe,KAAK,MAAMC,CAAI,CAEjC,MACD,CACI,OAAOA,CACf,CACA,CAGA,SAASJ,EAAaG,EAAKE,EAAO,CAC9B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQF,EAAKG,CAAQ,CACtC,CAGA,SAASC,GAAc,CACnB,MAAMN,EAAOC,EAAeN,CAAU,GAAK,CAAA,EAE3CC,EAAK,SAAS,MAAM,MAAQI,EAAK,OAAS,GAC1CJ,EAAK,SAAS,QAAQ,MAAQI,EAAK,SAAW,EAClD,CAEAM,EAAa"}